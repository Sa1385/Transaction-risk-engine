{
  "description": "Sample test data for Transaction Risk & Fraud Detection Engine",
  "test_cases": [
    {
      "name": "Normal Transaction",
      "request": {
        "transaction_id": "tx_normal_001",
        "user_id": "u100",
        "amount": 150.0,
        "currency": "INR",
        "merchant_id": "m_normal",
        "timestamp": "2025-12-03T10:00:00Z",
        "location": { "lat": 12.9716, "lng": 77.5946 },
        "device_id": "dev_1",
        "metadata": { "channel": "web", "merchant_category": "retail" }
      },
      "expected": {
        "flagged": false,
        "score_range": [0, 30]
      }
    },
    {
      "name": "Amount Spike Transaction",
      "request": {
        "transaction_id": "tx_spike_001",
        "user_id": "u100",
        "amount": 5000.0,
        "currency": "INR",
        "merchant_id": "m_normal",
        "timestamp": "2025-12-03T10:05:00Z",
        "location": { "lat": 12.9716, "lng": 77.5946 },
        "device_id": "dev_1",
        "metadata": { "channel": "web" }
      },
      "expected": {
        "should_contain": ["amount_spike"],
        "score_range": [30, 100]
      }
    },
    {
      "name": "Blacklisted Merchant Transaction",
      "request": {
        "transaction_id": "tx_blacklist_001",
        "user_id": "u101",
        "amount": 100.0,
        "currency": "INR",
        "merchant_id": "m_blacklisted",
        "timestamp": "2025-12-03T10:10:00Z",
        "location": { "lat": 12.9716, "lng": 77.5946 },
        "device_id": "dev_2",
        "metadata": { "channel": "pos" }
      },
      "expected": {
        "should_contain": ["merchant_blacklist"],
        "flagged": true,
        "score_range": [40, 100]
      }
    },
    {
      "name": "Device Change Transaction",
      "request": {
        "transaction_id": "tx_device_001",
        "user_id": "u100",
        "amount": 100.0,
        "currency": "INR",
        "merchant_id": "m_normal",
        "timestamp": "2025-12-03T10:15:00Z",
        "location": { "lat": 12.9716, "lng": 77.5946 },
        "device_id": "new_device_xyz",
        "metadata": { "channel": "mobile" }
      },
      "expected": {
        "should_contain": ["device_change"],
        "score_range": [10, 50]
      }
    },
    {
      "name": "Location Mismatch Transaction",
      "request": {
        "transaction_id": "tx_location_001",
        "user_id": "u100",
        "amount": 100.0,
        "currency": "USD",
        "merchant_id": "m_normal",
        "timestamp": "2025-12-03T11:00:00Z",
        "location": { "lat": 40.7128, "lng": -74.006 },
        "device_id": "dev_1",
        "metadata": { "channel": "web", "note": "User in NYC, 1 hour after Bangalore transaction" }
      },
      "expected": {
        "should_contain": ["location_mismatch"],
        "score_range": [20, 100]
      }
    },
    {
      "name": "Multiple Fraud Indicators",
      "request": {
        "transaction_id": "tx_multi_001",
        "user_id": "u102",
        "amount": 10000.0,
        "currency": "INR",
        "merchant_id": "fraud_merchant",
        "timestamp": "2025-12-03T12:00:00Z",
        "location": { "lat": 51.5074, "lng": -0.1278 },
        "device_id": "unknown_device",
        "metadata": { "channel": "api", "note": "High amount + blacklisted merchant + new device" }
      },
      "expected": {
        "flagged": true,
        "score_range": [50, 100]
      }
    }
  ],
  "curl_examples": {
    "submit_transaction": "curl -X POST http://localhost:8000/transactions -H 'Content-Type: application/json' -d '{\"transaction_id\":\"tx123\",\"user_id\":\"u100\",\"amount\":1250.50,\"currency\":\"INR\",\"merchant_id\":\"m500\",\"timestamp\":\"2025-12-03T12:34:56Z\",\"location\":{\"lat\":12.9716,\"lng\":77.5946},\"device_id\":\"dev_1\",\"metadata\":{\"merchant_category\":\"travel\",\"channel\":\"nfc\"}}'",
    "get_risk": "curl http://localhost:8000/risk/tx123",
    "get_flags": "curl 'http://localhost:8000/flags?min_score=70&limit=50'",
    "health_check": "curl http://localhost:8000/health"
  }
}
